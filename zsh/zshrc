# Enable Powerlevel10k instant prompt. Should stay close to the top of ~/.zshrc.
# Initialization code that may require console input (password prompts, [y/n]
# confirmations, etc.) must go above this block, everything else may go below.
if [[ -r "${XDG_CACHE_HOME:-$HOME/.cache}/p10k-instant-prompt-${(%):-%n}.zsh" ]]; then
  source "${XDG_CACHE_HOME:-$HOME/.cache}/p10k-instant-prompt-${(%):-%n}.zsh"
fi

export DOTFILES=$HOME/.dotfiles
# Path to your oh-my-zsh installation.
export ZSH=$DOTFILES/zsh/oh-my-zsh

# Load the default .profile
[[ -s "$HOME/.profile" ]] && source "$HOME/.profile"

# Would you like to use another custom folder than $ZSH/custom?
ZSH_CUSTOM=$DOTFILES/zsh/custom

# Array with functions to execute after zsh init
after_init=()

# Which plugins would you like to load? (plugins can be found in ~/.oh-my-zsh/plugins/*)
# Custom plugins may be added to ~/.oh-my-zsh/custom/plugins/
# Example format: plugins=(rails git textmate ruby lighthouse)
# Add wisely, as too many plugins slow down shell startup.
plugins=()

unset MANPATH
MANPATH=$(manpath)

for file in $(find $DOTFILES/zsh/settings -type f | sort -n); do
  source "$file";
done

ZSH_DISABLE_COMPFIX="true"
source $ZSH/oh-my-zsh.sh

#  Set highlight styles for plugin
ZSH_AUTOSUGGEST_HIGHLIGHT_STYLE='fg=250'

export MANPATH
export NODE_MODULES
export PATH

# Init functions in array
for func_name in "${after_init[@]}"
do
    $func_name
done
