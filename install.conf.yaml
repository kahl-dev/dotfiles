- defaults:
    link:
      relink: true

- clean: ['~']

- link:
    ~/.gitconfig: git/gitconfig
    ~/.gitignore_global: git/gitignore_global
    ~/.gittemplate: git/template
    ~/.zshrc: zsh/zshrc
    ~/.vim: vim/vim
    ~/.vimrc: vim/vimrc
    ~/.tmux: tmux
    ~/.tmux.conf: tmux/tmux.conf
    ~/.tern-project: ee/tern-project
    ~/.agignore: ee/agignore
    ~/.hyper.js: ee/hyper.js
    # ~/.npmrc: ee/npmrc

- shell:
    - [git submodule update --init --recursive, Installing submodules]

    - command: [source ~/.zshrc, Update zshrc]
      stdout: true

      # Handle osx specific
    - command: [./sh/osx.sh]
      stdin: true
      stdout: true

      # Install/Update brew/cask
    - command: [./sh/brew.sh]
      stdin: true
      stdout: true

      # Handle NPM
    - command: ./sh/npm.sh
      stdout: true

    - command: [mkdir -p ~/.vim/backup ~/.vim/swap ~/.vim/undo ~/.vim/view, Create vim tmp folders]
      stdout: true

    - command: [~/.tmux/plugins/tpm/bin/install_plugins, Install TMUX plugins]
      stdout: true

    - command: [~/.tmux/plugins/tpm/bin/update_plugins all, Update TMUX plugins]
      stdout: true

    - command: [~/.tmux/plugins/tpm/bin/clean_plugins, Remove old plugins]
      stdout: true

    - command: [vim +PlugInstall! +PlugUpdate! +PlugUpgrade! +PlugClean! +qa, Handle vim plugins]
      stdin: true
      stdout: true

    - command: ./sh/install.sh
      stderr: true
