- defaults:
    link:
      relink: true
      create: true
      force: true
    shell:
      quiet: false
      stderr: true

- clean: []

- shell:
    - description: "Clone or update Claude private configuration repository"
      command: |
        REPO_DIR="$HOME/repos/claude-config"
        REPO_URL="git@github.com:kahl-dev/claude-config.git"

        if [ ! -d "$REPO_DIR" ]; then
          echo "üì¶ Cloning Claude configuration repository..."
          if ! git clone "$REPO_URL" "$REPO_DIR"; then
            echo "‚ùå ERROR: Failed to clone Claude config repository"
            echo "   Ensure you have access to: $REPO_URL"
            echo "   and your SSH key is configured for GitHub"
            exit 1
          fi
          echo "‚úì Claude configuration cloned successfully"
        else
          echo "üîÑ Updating Claude configuration repository..."
          if ! git -C "$REPO_DIR" pull; then
            echo "‚ö†Ô∏è  Warning: Failed to pull updates, using local version"
          else
            echo "‚úì Claude configuration updated successfully"
          fi
        fi

    - description: "Create AI workspace directories for Claude"
      command: |
        mkdir -p ~/tmp/ai/screenshots \
                 ~/tmp/ai/jira \
                 ~/tmp/ai/exports \
                 ~/tmp/ai/figma \
                 ~/tmp/ai/downloads \
                 ~/tmp/ai/analysis \
                 ~/tmp/ai/cache

- link:
    ~/.claude/commands: ~/repos/claude-config/commands
    ~/.claude/hooks: ~/repos/claude-config/hooks
    ~/.claude/instructions: ~/repos/claude-config/instructions
    ~/.claude/shared: ~/repos/claude-config/shared
    ~/.claude/skills: ~/repos/claude-config/skills
    ~/.claude/settings.json: ~/repos/claude-config/settings.json
    ~/.claude/statusline.sh: ~/repos/claude-config/statusline.sh
    ~/.claude/CLAUDE.md: ~/repos/claude-config/GLOBAL.CLAUDE.md

